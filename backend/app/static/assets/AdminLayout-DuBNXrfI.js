import{j as e}from"./ui-By_2Fhe3.js";import{l as v,u as y,p as n,S as x,B as r,a1 as w,j as h,H as j,y as k,J as A,r as L,a2 as D,a3 as C,a4 as M,a5 as S,a6 as O,a7 as E,a8 as u,a9 as p,aa as U,ab as z}from"./index-BH6X8p7N.js";import{d as I,r as B,L as t,O as P}from"./router-BpYP0_uS.js";import"./vendor-9sitkZcQ.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],_=v("webhook",V),q=[{title:"Overview",href:"/admin",icon:j},{title:"User Management",href:"/admin/users",icon:k},{title:"System Stats",href:"/admin/stats",icon:A},{title:"Jobs Monitor",href:"/admin/jobs",icon:L},{title:"Webhooks",href:"/admin/webhooks",icon:_}];function W(){const{user:s,logout:f}=y(),c=I(),[l,i]=B.useState(!1);n.debug("AdminLayout rendering, user:",s),n.debug("User plan:",s?.plan);const b=async()=>{await f()};n.debug("AdminLayout: User plan check:",s?.plan),n.debug("AdminLayout: NODE_ENV:","production"),n.debug("AdminLayout: import.meta.env.DEV:",!1);const d=!1,o=s?.plan==="enterprise"||s?.plan==="standard",m=o||d;return n.debug("AdminLayout: Permission check:",{isDevelopment:d,hasValidPlan:o,isAdmin:m}),m?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"lg:hidden",children:e.jsx(r,{variant:"ghost",className:"fixed top-4 left-4 z-modal",onClick:()=>i(!l),children:e.jsx(w,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"flex",children:[e.jsx("aside",{className:h("fixed inset-y-0 left-0 z-sidebar w-64 bg-gradient-to-b from-primary/5 to-card border-r transition-transform duration-slow ease-apple lg:translate-x-0",l?"translate-x-0":"-translate-x-full"),children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsx("div",{className:"flex h-16 items-center border-b px-6",children:e.jsx(t,{to:"/",className:"flex items-center space-x-2",children:e.jsx("img",{src:"/logo-with-name.png",alt:"TidyFrame Admin",className:"h-50"})})}),e.jsx("nav",{className:"flex-1 space-y-2 px-4 py-6",children:q.map(a=>{const g=a.icon,N=c.pathname===a.href||a.href==="/admin"&&c.pathname==="/admin/dashboard";return e.jsxs(t,{to:a.href,className:h("flex items-center space-x-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",N?"bg-primary/30 text-primary font-semibold border-l-4 border-primary":"text-muted-foreground hover:bg-primary/10 hover:text-primary"),onClick:()=>i(!1),children:[e.jsx(g,{className:"h-4 w-4"}),e.jsx("span",{children:a.title})]},a.href)})}),e.jsx("div",{className:"px-4 pb-4",children:e.jsx(t,{to:"/dashboard",children:e.jsxs(r,{variant:"outline",className:"w-full",children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})})}),e.jsx("div",{className:"border-t p-4",children:e.jsxs(D,{children:[e.jsx(C,{asChild:!0,children:e.jsxs(r,{variant:"ghost",className:"w-full justify-start space-x-2",children:[e.jsx(M,{className:"h-8 w-8",children:e.jsx(S,{children:s?.fullName?.charAt(0)||s?.email.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"text-sm font-medium",children:s?.fullName||s?.email}),e.jsx("span",{className:"text-caption text-muted-foreground",children:"Administrator"})]})]})}),e.jsxs(O,{align:"end",className:"w-56",children:[e.jsx(E,{children:"Admin Account"}),e.jsx(u,{}),e.jsxs(p,{children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Settings"})]}),e.jsx(u,{}),e.jsxs(p,{onClick:b,className:"cursor-pointer",children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Log out"})]})]})]})})]})}),e.jsxs("main",{className:"flex-1 lg:ml-64",children:[e.jsx("header",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[e.jsx("div",{className:"lg:hidden"})," ",e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[e.jsx(x,{className:"h-4 w-4"}),e.jsx("span",{children:"Admin Panel"})]})})]})}),e.jsx("div",{className:"p-6",children:e.jsx(P,{})})]})]}),l&&e.jsx("div",{className:"fixed inset-0 z-overlay bg-black/50 lg:hidden",onClick:()=>i(!1)})]}):e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(x,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"You need admin privileges to access this area."}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current plan: ",s?.plan||"unknown"]}),e.jsx(t,{to:"/dashboard",children:e.jsx(r,{children:"Go to Dashboard"})})]})]})})}export{W as default};
//# sourceMappingURL=AdminLayout-DuBNXrfI.js.map

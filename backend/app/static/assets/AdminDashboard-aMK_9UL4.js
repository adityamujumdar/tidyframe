import{v as Xe,u as Ut,e as He,j as e,y as kt,c as Ot,f as Be,N as Vt,g as F,k as Y,P as D,A as Bt,b as P,Q as Ft,i as Ht,U as $t,V as zt,X as Wt,Y as Kt,Z as qt,D as Gt,w as Yt,z as Xt}from"./ui-BXnIjFSd.js";import{r as n,a as Je}from"./router-DzNuREeG.js";import{c as je,k as Jt,V as Zt,a as X,l as Ze,m as Qt,n as es,o as W,t as K,R as Se,B as le,p as pe,q as me,r as he,U as ts,s as fe,A as ss,C as ns,v as os,w as rs,x as ye,y as as,I as $e,T as ls,z as is,E as ze,F as se,G as cs,J as ne,K as ds,N as us,D as ps,b as ms,f as hs,g as fs,h as xs,i as Me,O as gs,P as vs,Q as Ss,W as ys,X as ws,Y as js}from"./index-CjXWgMvA.js";import"./vendor-gH-7aFTg.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],bs=je("ellipsis",Ns);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],_s=je("square-pen",Cs);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],We=je("user-check",Ts);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Ke=je("user-x",Is);function qe(o,[s,t]){return Math.min(t,Math.max(s,o))}var Ps=[" ","Enter","ArrowUp","ArrowDown"],Es=[" ","Enter"],oe="Select",[Ne,be,Rs]=Vt(oe),[de,un]=Ot(oe,[Rs,Xe]),Ce=Xe(),[Ms,J]=de(oe),[As,Ds]=de(oe),Qe=o=>{const{__scopeSelect:s,children:t,open:a,defaultOpen:l,onOpenChange:m,value:r,defaultValue:d,onValueChange:c,dir:h,name:g,autoComplete:S,disabled:_,required:b,form:w}=o,u=Ce(s),[x,y]=n.useState(null),[p,v]=n.useState(null),[O,M]=n.useState(!1),Q=Ut(h),[E,L]=He({prop:a,defaultProp:l??!1,onChange:m,caller:oe}),[V,i]=He({prop:r,defaultProp:d,onChange:c,caller:oe}),C=n.useRef(null),U=x?w||!!x.closest("form"):!0,[q,H]=n.useState(new Set),$=Array.from(q).map(R=>R.props.value).join(";");return e.jsx(kt,{...u,children:e.jsxs(Ms,{required:b,scope:s,trigger:x,onTriggerChange:y,valueNode:p,onValueNodeChange:v,valueNodeHasChildren:O,onValueNodeHasChildrenChange:M,contentId:Be(),value:V,onValueChange:i,open:E,onOpenChange:L,dir:Q,triggerPointerDownPosRef:C,disabled:_,children:[e.jsx(Ne.Provider,{scope:s,children:e.jsx(As,{scope:o.__scopeSelect,onNativeOptionAdd:n.useCallback(R=>{H(B=>new Set(B).add(R))},[]),onNativeOptionRemove:n.useCallback(R=>{H(B=>{const z=new Set(B);return z.delete(R),z})},[]),children:t})}),U?e.jsxs(Nt,{"aria-hidden":!0,required:b,tabIndex:-1,name:g,autoComplete:S,value:V,onChange:R=>i(R.target.value),disabled:_,form:w,children:[V===void 0?e.jsx("option",{value:""}):null,Array.from(q)]},$):null]})})};Qe.displayName=oe;var et="SelectTrigger",tt=n.forwardRef((o,s)=>{const{__scopeSelect:t,disabled:a=!1,...l}=o,m=Ce(t),r=J(et,t),d=r.disabled||a,c=F(s,r.onTriggerChange),h=be(t),g=n.useRef("touch"),[S,_,b]=Ct(u=>{const x=h().filter(v=>!v.disabled),y=x.find(v=>v.value===r.value),p=_t(x,u,y);p!==void 0&&r.onValueChange(p.value)}),w=u=>{d||(r.onOpenChange(!0),b()),u&&(r.triggerPointerDownPosRef.current={x:Math.round(u.pageX),y:Math.round(u.pageY)})};return e.jsx(Bt,{asChild:!0,...m,children:e.jsx(D.button,{type:"button",role:"combobox","aria-controls":r.contentId,"aria-expanded":r.open,"aria-required":r.required,"aria-autocomplete":"none",dir:r.dir,"data-state":r.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":bt(r.value)?"":void 0,...l,ref:c,onClick:P(l.onClick,u=>{u.currentTarget.focus(),g.current!=="mouse"&&w(u)}),onPointerDown:P(l.onPointerDown,u=>{g.current=u.pointerType;const x=u.target;x.hasPointerCapture(u.pointerId)&&x.releasePointerCapture(u.pointerId),u.button===0&&u.ctrlKey===!1&&u.pointerType==="mouse"&&(w(u),u.preventDefault())}),onKeyDown:P(l.onKeyDown,u=>{const x=S.current!=="";!(u.ctrlKey||u.altKey||u.metaKey)&&u.key.length===1&&_(u.key),!(x&&u.key===" ")&&Ps.includes(u.key)&&(w(),u.preventDefault())})})})});tt.displayName=et;var st="SelectValue",nt=n.forwardRef((o,s)=>{const{__scopeSelect:t,className:a,style:l,children:m,placeholder:r="",...d}=o,c=J(st,t),{onValueNodeHasChildrenChange:h}=c,g=m!==void 0,S=F(s,c.onValueNodeChange);return Y(()=>{h(g)},[h,g]),e.jsx(D.span,{...d,ref:S,style:{pointerEvents:"none"},children:bt(c.value)?e.jsx(e.Fragment,{children:r}):m})});nt.displayName=st;var Ls="SelectIcon",ot=n.forwardRef((o,s)=>{const{__scopeSelect:t,children:a,...l}=o;return e.jsx(D.span,{"aria-hidden":!0,...l,ref:s,children:a||"▼"})});ot.displayName=Ls;var Us="SelectPortal",rt=o=>e.jsx(Ft,{asChild:!0,...o});rt.displayName=Us;var re="SelectContent",at=n.forwardRef((o,s)=>{const t=J(re,o.__scopeSelect),[a,l]=n.useState();if(Y(()=>{l(new DocumentFragment)},[]),!t.open){const m=a;return m?Je.createPortal(e.jsx(lt,{scope:o.__scopeSelect,children:e.jsx(Ne.Slot,{scope:o.__scopeSelect,children:e.jsx("div",{children:o.children})})}),m):null}return e.jsx(it,{...o,ref:s})});at.displayName=re;var k=10,[lt,Z]=de(re),ks="SelectContentImpl",Os=Kt("SelectContent.RemoveScroll"),it=n.forwardRef((o,s)=>{const{__scopeSelect:t,position:a="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:m,onPointerDownOutside:r,side:d,sideOffset:c,align:h,alignOffset:g,arrowPadding:S,collisionBoundary:_,collisionPadding:b,sticky:w,hideWhenDetached:u,avoidCollisions:x,...y}=o,p=J(re,t),[v,O]=n.useState(null),[M,Q]=n.useState(null),E=F(s,f=>O(f)),[L,V]=n.useState(null),[i,C]=n.useState(null),U=be(t),[q,H]=n.useState(!1),$=n.useRef(!1);n.useEffect(()=>{if(v)return $t(v)},[v]),zt();const R=n.useCallback(f=>{const[T,...A]=U().map(I=>I.ref.current),[j]=A.slice(-1),N=document.activeElement;for(const I of f)if(I===N||(I?.scrollIntoView({block:"nearest"}),I===T&&M&&(M.scrollTop=0),I===j&&M&&(M.scrollTop=M.scrollHeight),I?.focus(),document.activeElement!==N))return},[U,M]),B=n.useCallback(()=>R([L,v]),[R,L,v]);n.useEffect(()=>{q&&B()},[q,B]);const{onOpenChange:z,triggerPointerDownPosRef:G}=p;n.useEffect(()=>{if(v){let f={x:0,y:0};const T=j=>{f={x:Math.abs(Math.round(j.pageX)-(G.current?.x??0)),y:Math.abs(Math.round(j.pageY)-(G.current?.y??0))}},A=j=>{f.x<=10&&f.y<=10?j.preventDefault():v.contains(j.target)||z(!1),document.removeEventListener("pointermove",T),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",T),document.addEventListener("pointerup",A,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",A,{capture:!0})}}},[v,z,G]),n.useEffect(()=>{const f=()=>z(!1);return window.addEventListener("blur",f),window.addEventListener("resize",f),()=>{window.removeEventListener("blur",f),window.removeEventListener("resize",f)}},[z]);const[_e,ge]=Ct(f=>{const T=U().filter(N=>!N.disabled),A=T.find(N=>N.ref.current===document.activeElement),j=_t(T,f,A);j&&setTimeout(()=>j.ref.current.focus())}),Te=n.useCallback((f,T,A)=>{const j=!$.current&&!A;(p.value!==void 0&&p.value===T||j)&&(V(f),j&&($.current=!0))},[p.value]),Ie=n.useCallback(()=>v?.focus(),[v]),ae=n.useCallback((f,T,A)=>{const j=!$.current&&!A;(p.value!==void 0&&p.value===T||j)&&C(f)},[p.value]),ve=a==="popper"?Ae:ct,ue=ve===Ae?{side:d,sideOffset:c,align:h,alignOffset:g,arrowPadding:S,collisionBoundary:_,collisionPadding:b,sticky:w,hideWhenDetached:u,avoidCollisions:x}:{};return e.jsx(lt,{scope:t,content:v,viewport:M,onViewportChange:Q,itemRefCallback:Te,selectedItem:L,onItemLeave:Ie,itemTextRefCallback:ae,focusSelectedItem:B,selectedItemText:i,position:a,isPositioned:q,searchRef:_e,children:e.jsx(Wt,{as:Os,allowPinchZoom:!0,children:e.jsx(qt,{asChild:!0,trapped:p.open,onMountAutoFocus:f=>{f.preventDefault()},onUnmountAutoFocus:P(l,f=>{p.trigger?.focus({preventScroll:!0}),f.preventDefault()}),children:e.jsx(Gt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:m,onPointerDownOutside:r,onFocusOutside:f=>f.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:e.jsx(ve,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:f=>f.preventDefault(),...y,...ue,onPlaced:()=>H(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:P(y.onKeyDown,f=>{const T=f.ctrlKey||f.altKey||f.metaKey;if(f.key==="Tab"&&f.preventDefault(),!T&&f.key.length===1&&ge(f.key),["ArrowUp","ArrowDown","Home","End"].includes(f.key)){let j=U().filter(N=>!N.disabled).map(N=>N.ref.current);if(["ArrowUp","End"].includes(f.key)&&(j=j.slice().reverse()),["ArrowUp","ArrowDown"].includes(f.key)){const N=f.target,I=j.indexOf(N);j=j.slice(I+1)}setTimeout(()=>R(j)),f.preventDefault()}})})})})})})});it.displayName=ks;var Vs="SelectItemAlignedPosition",ct=n.forwardRef((o,s)=>{const{__scopeSelect:t,onPlaced:a,...l}=o,m=J(re,t),r=Z(re,t),[d,c]=n.useState(null),[h,g]=n.useState(null),S=F(s,E=>g(E)),_=be(t),b=n.useRef(!1),w=n.useRef(!0),{viewport:u,selectedItem:x,selectedItemText:y,focusSelectedItem:p}=r,v=n.useCallback(()=>{if(m.trigger&&m.valueNode&&d&&h&&u&&x&&y){const E=m.trigger.getBoundingClientRect(),L=h.getBoundingClientRect(),V=m.valueNode.getBoundingClientRect(),i=y.getBoundingClientRect();if(m.dir!=="rtl"){const N=i.left-L.left,I=V.left-N,ee=E.left-I,te=E.width+ee,Pe=Math.max(te,L.width),Ee=window.innerWidth-k,Re=qe(I,[k,Math.max(k,Ee-Pe)]);d.style.minWidth=te+"px",d.style.left=Re+"px"}else{const N=L.right-i.right,I=window.innerWidth-V.right-N,ee=window.innerWidth-E.right-I,te=E.width+ee,Pe=Math.max(te,L.width),Ee=window.innerWidth-k,Re=qe(I,[k,Math.max(k,Ee-Pe)]);d.style.minWidth=te+"px",d.style.right=Re+"px"}const C=_(),U=window.innerHeight-k*2,q=u.scrollHeight,H=window.getComputedStyle(h),$=parseInt(H.borderTopWidth,10),R=parseInt(H.paddingTop,10),B=parseInt(H.borderBottomWidth,10),z=parseInt(H.paddingBottom,10),G=$+R+q+z+B,_e=Math.min(x.offsetHeight*5,G),ge=window.getComputedStyle(u),Te=parseInt(ge.paddingTop,10),Ie=parseInt(ge.paddingBottom,10),ae=E.top+E.height/2-k,ve=U-ae,ue=x.offsetHeight/2,f=x.offsetTop+ue,T=$+R+f,A=G-T;if(T<=ae){const N=C.length>0&&x===C[C.length-1].ref.current;d.style.bottom="0px";const I=h.clientHeight-u.offsetTop-u.offsetHeight,ee=Math.max(ve,ue+(N?Ie:0)+I+B),te=T+ee;d.style.height=te+"px"}else{const N=C.length>0&&x===C[0].ref.current;d.style.top="0px";const ee=Math.max(ae,$+u.offsetTop+(N?Te:0)+ue)+A;d.style.height=ee+"px",u.scrollTop=T-ae+u.offsetTop}d.style.margin=`${k}px 0`,d.style.minHeight=_e+"px",d.style.maxHeight=U+"px",a?.(),requestAnimationFrame(()=>b.current=!0)}},[_,m.trigger,m.valueNode,d,h,u,x,y,m.dir,a]);Y(()=>v(),[v]);const[O,M]=n.useState();Y(()=>{h&&M(window.getComputedStyle(h).zIndex)},[h]);const Q=n.useCallback(E=>{E&&w.current===!0&&(v(),p?.(),w.current=!1)},[v,p]);return e.jsx(Fs,{scope:t,contentWrapper:d,shouldExpandOnScrollRef:b,onScrollButtonChange:Q,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:e.jsx(D.div,{...l,ref:S,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});ct.displayName=Vs;var Bs="SelectPopperPosition",Ae=n.forwardRef((o,s)=>{const{__scopeSelect:t,align:a="start",collisionPadding:l=k,...m}=o,r=Ce(t);return e.jsx(Yt,{...r,...m,ref:s,align:a,collisionPadding:l,style:{boxSizing:"border-box",...m.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ae.displayName=Bs;var[Fs,Fe]=de(re,{}),De="SelectViewport",dt=n.forwardRef((o,s)=>{const{__scopeSelect:t,nonce:a,...l}=o,m=Z(De,t),r=Fe(De,t),d=F(s,m.onViewportChange),c=n.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(Ne.Slot,{scope:t,children:e.jsx(D.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:P(l.onScroll,h=>{const g=h.currentTarget,{contentWrapper:S,shouldExpandOnScrollRef:_}=r;if(_?.current&&S){const b=Math.abs(c.current-g.scrollTop);if(b>0){const w=window.innerHeight-k*2,u=parseFloat(S.style.minHeight),x=parseFloat(S.style.height),y=Math.max(u,x);if(y<w){const p=y+b,v=Math.min(w,p),O=p-v;S.style.height=v+"px",S.style.bottom==="0px"&&(g.scrollTop=O>0?O:0,S.style.justifyContent="flex-end")}}}c.current=g.scrollTop})})})]})});dt.displayName=De;var ut="SelectGroup",[Hs,$s]=de(ut),zs=n.forwardRef((o,s)=>{const{__scopeSelect:t,...a}=o,l=Be();return e.jsx(Hs,{scope:t,id:l,children:e.jsx(D.div,{role:"group","aria-labelledby":l,...a,ref:s})})});zs.displayName=ut;var pt="SelectLabel",mt=n.forwardRef((o,s)=>{const{__scopeSelect:t,...a}=o,l=$s(pt,t);return e.jsx(D.div,{id:l.id,...a,ref:s})});mt.displayName=pt;var we="SelectItem",[Ws,ht]=de(we),ft=n.forwardRef((o,s)=>{const{__scopeSelect:t,value:a,disabled:l=!1,textValue:m,...r}=o,d=J(we,t),c=Z(we,t),h=d.value===a,[g,S]=n.useState(m??""),[_,b]=n.useState(!1),w=F(s,p=>c.itemRefCallback?.(p,a,l)),u=Be(),x=n.useRef("touch"),y=()=>{l||(d.onValueChange(a),d.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Ws,{scope:t,value:a,disabled:l,textId:u,isSelected:h,onItemTextChange:n.useCallback(p=>{S(v=>v||(p?.textContent??"").trim())},[]),children:e.jsx(Ne.ItemSlot,{scope:t,value:a,disabled:l,textValue:g,children:e.jsx(D.div,{role:"option","aria-labelledby":u,"data-highlighted":_?"":void 0,"aria-selected":h&&_,"data-state":h?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...r,ref:w,onFocus:P(r.onFocus,()=>b(!0)),onBlur:P(r.onBlur,()=>b(!1)),onClick:P(r.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:P(r.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:P(r.onPointerDown,p=>{x.current=p.pointerType}),onPointerMove:P(r.onPointerMove,p=>{x.current=p.pointerType,l?c.onItemLeave?.():x.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:P(r.onPointerLeave,p=>{p.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:P(r.onKeyDown,p=>{c.searchRef?.current!==""&&p.key===" "||(Es.includes(p.key)&&y(),p.key===" "&&p.preventDefault())})})})})});ft.displayName=we;var xe="SelectItemText",xt=n.forwardRef((o,s)=>{const{__scopeSelect:t,className:a,style:l,...m}=o,r=J(xe,t),d=Z(xe,t),c=ht(xe,t),h=Ds(xe,t),[g,S]=n.useState(null),_=F(s,y=>S(y),c.onItemTextChange,y=>d.itemTextRefCallback?.(y,c.value,c.disabled)),b=g?.textContent,w=n.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:b},c.value),[c.disabled,c.value,b]),{onNativeOptionAdd:u,onNativeOptionRemove:x}=h;return Y(()=>(u(w),()=>x(w)),[u,x,w]),e.jsxs(e.Fragment,{children:[e.jsx(D.span,{id:c.textId,...m,ref:_}),c.isSelected&&r.valueNode&&!r.valueNodeHasChildren?Je.createPortal(m.children,r.valueNode):null]})});xt.displayName=xe;var gt="SelectItemIndicator",vt=n.forwardRef((o,s)=>{const{__scopeSelect:t,...a}=o;return ht(gt,t).isSelected?e.jsx(D.span,{"aria-hidden":!0,...a,ref:s}):null});vt.displayName=gt;var Le="SelectScrollUpButton",St=n.forwardRef((o,s)=>{const t=Z(Le,o.__scopeSelect),a=Fe(Le,o.__scopeSelect),[l,m]=n.useState(!1),r=F(s,a.onScrollButtonChange);return Y(()=>{if(t.viewport&&t.isPositioned){let d=function(){const h=c.scrollTop>0;m(h)};const c=t.viewport;return d(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),l?e.jsx(wt,{...o,ref:r,onAutoScroll:()=>{const{viewport:d,selectedItem:c}=t;d&&c&&(d.scrollTop=d.scrollTop-c.offsetHeight)}}):null});St.displayName=Le;var Ue="SelectScrollDownButton",yt=n.forwardRef((o,s)=>{const t=Z(Ue,o.__scopeSelect),a=Fe(Ue,o.__scopeSelect),[l,m]=n.useState(!1),r=F(s,a.onScrollButtonChange);return Y(()=>{if(t.viewport&&t.isPositioned){let d=function(){const h=c.scrollHeight-c.clientHeight,g=Math.ceil(c.scrollTop)<h;m(g)};const c=t.viewport;return d(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),l?e.jsx(wt,{...o,ref:r,onAutoScroll:()=>{const{viewport:d,selectedItem:c}=t;d&&c&&(d.scrollTop=d.scrollTop+c.offsetHeight)}}):null});yt.displayName=Ue;var wt=n.forwardRef((o,s)=>{const{__scopeSelect:t,onAutoScroll:a,...l}=o,m=Z("SelectScrollButton",t),r=n.useRef(null),d=be(t),c=n.useCallback(()=>{r.current!==null&&(window.clearInterval(r.current),r.current=null)},[]);return n.useEffect(()=>()=>c(),[c]),Y(()=>{d().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),e.jsx(D.div,{"aria-hidden":!0,...l,ref:s,style:{flexShrink:0,...l.style},onPointerDown:P(l.onPointerDown,()=>{r.current===null&&(r.current=window.setInterval(a,50))}),onPointerMove:P(l.onPointerMove,()=>{m.onItemLeave?.(),r.current===null&&(r.current=window.setInterval(a,50))}),onPointerLeave:P(l.onPointerLeave,()=>{c()})})}),Ks="SelectSeparator",jt=n.forwardRef((o,s)=>{const{__scopeSelect:t,...a}=o;return e.jsx(D.div,{"aria-hidden":!0,...a,ref:s})});jt.displayName=Ks;var ke="SelectArrow",qs=n.forwardRef((o,s)=>{const{__scopeSelect:t,...a}=o,l=Ce(t),m=J(ke,t),r=Z(ke,t);return m.open&&r.position==="popper"?e.jsx(Xt,{...l,...a,ref:s}):null});qs.displayName=ke;var Gs="SelectBubbleInput",Nt=n.forwardRef(({__scopeSelect:o,value:s,...t},a)=>{const l=n.useRef(null),m=F(a,l),r=Jt(s);return n.useEffect(()=>{const d=l.current;if(!d)return;const c=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(c,"value").set;if(r!==s&&g){const S=new Event("change",{bubbles:!0});g.call(d,s),d.dispatchEvent(S)}},[r,s]),e.jsx(D.select,{...t,style:{...Zt,...t.style},ref:m,defaultValue:s})});Nt.displayName=Gs;function bt(o){return o===""||o===void 0}function Ct(o){const s=Ht(o),t=n.useRef(""),a=n.useRef(0),l=n.useCallback(r=>{const d=t.current+r;s(d),(function c(h){t.current=h,window.clearTimeout(a.current),h!==""&&(a.current=window.setTimeout(()=>c(""),1e3))})(d)},[s]),m=n.useCallback(()=>{t.current="",window.clearTimeout(a.current)},[]);return n.useEffect(()=>()=>window.clearTimeout(a.current),[]),[t,l,m]}function _t(o,s,t){const l=s.length>1&&Array.from(s).every(h=>h===s[0])?s[0]:s,m=t?o.indexOf(t):-1;let r=Ys(o,Math.max(m,0));l.length===1&&(r=r.filter(h=>h!==t));const c=r.find(h=>h.textValue.toLowerCase().startsWith(l.toLowerCase()));return c!==t?c:void 0}function Ys(o,s){return o.map((t,a)=>o[(s+a)%o.length])}var Xs=Qe,Tt=tt,Js=nt,Zs=ot,Qs=rt,It=at,en=dt,Pt=mt,Et=ft,tn=xt,sn=vt,Rt=St,Mt=yt,At=jt;const Ge=Xs,Ye=Js,Oe=n.forwardRef(({className:o,children:s,...t},a)=>e.jsxs(Tt,{ref:a,className:X("flex h-10 w-full items-center justify-between rounded-input border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",o),...t,children:[s,e.jsx(Zs,{asChild:!0,children:e.jsx(Ze,{className:"h-4 w-4 opacity-50"})})]}));Oe.displayName=Tt.displayName;const Dt=n.forwardRef(({className:o,...s},t)=>e.jsx(Rt,{ref:t,className:X("flex cursor-default items-center justify-center py-1",o),...s,children:e.jsx(es,{className:"h-4 w-4"})}));Dt.displayName=Rt.displayName;const Lt=n.forwardRef(({className:o,...s},t)=>e.jsx(Mt,{ref:t,className:X("flex cursor-default items-center justify-center py-1",o),...s,children:e.jsx(Ze,{className:"h-4 w-4"})}));Lt.displayName=Mt.displayName;const Ve=n.forwardRef(({className:o,children:s,position:t="popper",...a},l)=>e.jsx(Qs,{children:e.jsxs(It,{ref:l,className:X("relative z-modal max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-dropdown data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o),position:t,...a,children:[e.jsx(Dt,{}),e.jsx(en,{className:X("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(Lt,{})]})}));Ve.displayName=It.displayName;const nn=n.forwardRef(({className:o,...s},t)=>e.jsx(Pt,{ref:t,className:X("py-2 pl-8 pr-2 text-sm font-semibold",o),...s}));nn.displayName=Pt.displayName;const ce=n.forwardRef(({className:o,children:s,...t},a)=>e.jsxs(Et,{ref:a,className:X("relative flex w-full cursor-default select-none items-center rounded-sm py-2 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(sn,{children:e.jsx(Qt,{className:"h-4 w-4"})})}),e.jsx(tn,{children:s})]}));ce.displayName=Et.displayName;const on=n.forwardRef(({className:o,...s},t)=>e.jsx(At,{ref:t,className:X("-mx-1 my-1 h-px bg-muted",o),...s}));on.displayName=At.displayName;class rn{baseUrl="/api/admin";async getSystemStats(){return await W.get(`${this.baseUrl}/stats`)}async getUsers(s){const t=new URLSearchParams;s?.page&&t.append("page",s.page.toString()),s?.page_size&&t.append("page_size",s.page_size.toString()),s?.search&&t.append("search",s.search),s?.plan_filter&&t.append("plan_filter",s.plan_filter);const a=t.toString(),l=a?`${this.baseUrl}/users?${a}`:`${this.baseUrl}/users`;return(await W.get(l)).map(r=>({id:r.id,email:r.email,plan:r.plan,parsesThisMonth:r.parses_this_month,monthlyLimit:r.monthly_limit,customMonthlyLimit:r.custom_monthly_limit,isActive:r.is_active,emailVerified:r.email_verified,createdAt:r.created_at,lastLoginAt:r.last_login_at}))}async getUserDetails(s){const t=await W.get(`${this.baseUrl}/users/${s}`);return{user:{id:t.user.id,email:t.user.email,plan:t.user.plan,parsesThisMonth:t.user.parses_this_month,monthlyLimit:t.user.monthly_limit,customMonthlyLimit:t.user.custom_monthly_limit,isActive:t.user.is_active,emailVerified:t.user.email_verified,createdAt:t.user.created_at,lastLoginAt:t.user.last_login_at},statistics:t.statistics}}async updateUserLimits(s,t){return W.patch(`${this.baseUrl}/users/${s}/limits`,t)}async updateUserPlan(s,t){return W.patch(`${this.baseUrl}/users/${s}/plan`,t)}async resetUserUsage(s,t){return W.post(`${this.baseUrl}/users/${s}/reset-usage`,t||{})}async updateUser(s,t){return W.put(`${this.baseUrl}/users/${s}`,t)}async getJobs(s){const t=new URLSearchParams;s?.page&&t.append("page",s.page.toString()),s?.page_size&&t.append("page_size",s.page_size.toString()),s?.status_filter&&t.append("status_filter",s.status_filter),s?.user_email&&t.append("user_email",s.user_email);const a=t.toString(),l=a?`${this.baseUrl}/jobs?${a}`:`${this.baseUrl}/jobs`;return W.get(l)}async getWebhookEvents(s){const t=new URLSearchParams;s?.page&&t.append("page",s.page.toString()),s?.page_size&&t.append("page_size",s.page_size.toString()),s?.processed!==void 0&&t.append("processed",s.processed.toString());const a=t.toString(),l=a?`${this.baseUrl}/webhooks?${a}`:`${this.baseUrl}/webhooks`;return W.get(l)}}const ie=new rn;function pn(){const[o,s]=n.useState(null),[t,a]=n.useState([]),[l,m]=n.useState(!0),[r,d]=n.useState(""),[c,h]=n.useState("all"),[g,S]=n.useState(null),[_,b]=n.useState(""),[w,u]=n.useState(""),[x,y]=n.useState(null),p=n.useCallback(async()=>{try{m(!0),y(null),console.log("AdminDashboard: Loading data...");try{const[i,C]=await Promise.all([ie.getSystemStats(),ie.getUsers({search:r||void 0,plan_filter:c==="all"?void 0:c,page_size:50})]);s(i),a(C),console.log("AdminDashboard: Data loaded successfully",{statsData:i,usersCount:C.length})}catch(i){console.warn("AdminDashboard: API failed, using mock data for development",i);const C={total_users:5,active_users:3,total_jobs:12,jobs_today:2,total_parses:150,parses_today:8,storage_used_gb:2.5},U=[{id:"1",email:"user@example.com",plan:"standard",parsesThisMonth:10,monthlyLimit:100,isActive:!0,emailVerified:!0,createdAt:new Date().toISOString()},{id:"2",email:"admin@example.com",plan:"enterprise",parsesThisMonth:50,monthlyLimit:999999999,isActive:!0,emailVerified:!0,createdAt:new Date().toISOString()}];s(C),a(U)}}catch(i){const C=i instanceof Error&&"response"in i&&i.response&&typeof i.response=="object"&&"data"in i.response&&i.response.data&&typeof i.response.data=="object"&&"message"in i.response.data&&typeof i.response.data.message=="string"?i.response.data.message:"Failed to load admin data";console.error("AdminDashboard: Error loading data",i),y(C),K.error(C)}finally{m(!1)}},[r,c]);n.useEffect(()=>{p()},[p]);const v=i=>{S(i),b(i.customMonthlyLimit||""),u(i.plan)},O=async()=>{if(g)try{await ie.updateUserLimits(g.id,{customMonthlyLimit:_===""?void 0:Number(_)}),K.success("User limits updated successfully"),S(null),p()}catch(i){console.error("Failed to update limits:",i),K.error("Failed to update user limits")}},M=async()=>{if(g)try{await ie.updateUserPlan(g.id,{plan:w}),K.success("User plan updated successfully"),S(null),p()}catch(i){console.error("Failed to update plan:",i),K.error("Failed to update user plan")}},Q=async i=>{if(confirm(`Reset usage for ${i.email}? This will set their monthly usage to 0.`))try{await ie.resetUserUsage(i.id,{reset_count:0}),K.success("User usage reset successfully"),p()}catch(C){console.error("Failed to reset usage:",C),K.error("Failed to reset user usage")}},E=async i=>{try{await ie.updateUser(i.id,{is_active:!i.isActive}),K.success(`User ${i.isActive?"deactivated":"activated"} successfully`),p()}catch(C){console.error("Failed to toggle user status:",C),K.error("Failed to update user status")}},L=i=>new Date(i).toLocaleDateString(),V=i=>{switch(i){case"enterprise":return"default";case"standard":return"secondary";default:return"outline"}};return l?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Se,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading admin dashboard..."})]})}):x?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"bg-destructive/15 text-destructive p-4 rounded-lg mb-4",children:[e.jsx("h2",{className:"font-semibold mb-2",children:"Error Loading Dashboard"}),e.jsx("p",{className:"text-sm",children:x})]}),e.jsxs(le,{onClick:p,variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage users, monitor system performance, and view analytics"})]}),e.jsxs(le,{onClick:p,variant:"outline",size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(pe,{children:[e.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(he,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(ts,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(fe,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o?.total_users||0}),e.jsxs("p",{className:"text-caption text-muted-foreground",children:[o?.active_users||0," active"]})]})]}),e.jsxs(pe,{children:[e.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(he,{className:"text-sm font-medium",children:"Total Jobs"}),e.jsx(ss,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(fe,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o?.total_jobs||0}),e.jsxs("p",{className:"text-caption text-muted-foreground",children:[o?.jobs_today||0," today"]})]})]}),e.jsxs(pe,{children:[e.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(he,{className:"text-sm font-medium",children:"Total Parses"}),e.jsx(ns,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(fe,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o?.total_parses||0}),e.jsxs("p",{className:"text-caption text-muted-foreground",children:[o?.parses_today||0," today"]})]})]}),e.jsxs(pe,{children:[e.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(he,{className:"text-sm font-medium",children:"Storage Used"}),e.jsx(os,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(fe,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[o?.storage_used_gb?.toFixed(1)||0," GB"]}),e.jsx("p",{className:"text-caption text-muted-foreground",children:"System storage"})]})]})]}),e.jsxs(pe,{children:[e.jsxs(me,{children:[e.jsx(he,{children:"User Management"}),e.jsx(rs,{children:"Manage user accounts, plans, and usage limits"}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsxs("div",{className:"flex-1 max-w-sm",children:[e.jsx(ye,{htmlFor:"search",children:"Search Users"}),e.jsxs("div",{className:"relative",children:[e.jsx(as,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx($e,{id:"search",placeholder:"Search by email...",className:"pl-8",value:r,onChange:i=>d(i.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"plan-filter",children:"Filter by Plan"}),e.jsxs(Ge,{value:c,onValueChange:h,children:[e.jsx(Oe,{id:"plan-filter",className:"w-40",children:e.jsx(Ye,{placeholder:"All plans"})}),e.jsxs(Ve,{children:[e.jsx(ce,{value:"all",children:"All plans"}),e.jsx(ce,{value:"standard",children:"Standard"}),e.jsx(ce,{value:"enterprise",children:"Enterprise"})]})]})]})]})]}),e.jsx(fe,{children:e.jsx("div",{className:"rounded-md border",children:e.jsxs(ls,{children:[e.jsx(is,{children:e.jsxs(ze,{children:[e.jsx(se,{children:"User"}),e.jsx(se,{children:"Plan"}),e.jsx(se,{children:"Usage"}),e.jsx(se,{children:"Limits"}),e.jsx(se,{children:"Status"}),e.jsx(se,{children:"Joined"}),e.jsx(se,{})]})}),e.jsx(cs,{children:t.map(i=>e.jsxs(ze,{children:[e.jsx(ne,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:i.email}),!i.emailVerified&&e.jsx("div",{className:"text-sm text-muted-foreground",children:"Email not verified"})]})}),e.jsx(ne,{children:e.jsxs(ds,{variant:V(i.plan),children:[i.plan,i.plan==="enterprise"&&e.jsx(us,{className:"h-3 w-3 ml-1"})]})}),e.jsxs(ne,{children:[e.jsxs("div",{className:"text-sm",children:[i.parsesThisMonth.toLocaleString()," /"," ",i.monthlyLimit===999999999?"∞":i.monthlyLimit.toLocaleString()]}),i.customMonthlyLimit&&e.jsx("div",{className:"text-caption text-muted-foreground",children:"Custom limit"})]}),e.jsx(ne,{children:i.customMonthlyLimit?e.jsxs("span",{className:"text-sm",children:[i.customMonthlyLimit.toLocaleString()," (custom)"]}):e.jsx("span",{className:"text-sm text-muted-foreground",children:"Default"})}),e.jsx(ne,{children:i.isActive?e.jsxs("div",{className:"flex items-center text-status-success",children:[e.jsx(We,{className:"h-4 w-4 mr-1"}),"Active"]}):e.jsxs("div",{className:"flex items-center text-status-error",children:[e.jsx(Ke,{className:"h-4 w-4 mr-1"}),"Inactive"]})}),e.jsx(ne,{className:"text-sm text-muted-foreground",children:L(i.createdAt)}),e.jsx(ne,{children:e.jsxs(ps,{children:[e.jsx(ms,{asChild:!0,children:e.jsx(le,{variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(bs,{className:"h-4 w-4"})})}),e.jsxs(hs,{align:"end",children:[e.jsx(fs,{children:"Actions"}),e.jsx(xs,{}),e.jsxs(Me,{onClick:()=>v(i),children:[e.jsx(_s,{className:"mr-2 h-4 w-4"}),"Edit Limits"]}),e.jsxs(Me,{onClick:()=>Q(i),children:[e.jsx(Se,{className:"mr-2 h-4 w-4"}),"Reset Usage"]}),e.jsx(Me,{onClick:()=>E(i),children:i.isActive?e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"mr-2 h-4 w-4"}),"Deactivate"]}):e.jsxs(e.Fragment,{children:[e.jsx(We,{className:"mr-2 h-4 w-4"}),"Activate"]})})]})]})})]},i.id))})]})})})]}),e.jsx(gs,{open:!!g,onOpenChange:()=>S(null),children:e.jsxs(vs,{className:"sm:max-w-[425px]",children:[e.jsxs(Ss,{children:[e.jsxs(ys,{children:["Edit User: ",g?.email]}),e.jsx(ws,{children:"Update user plan and custom limits"})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(ye,{htmlFor:"plan",children:"Plan"}),e.jsxs(Ge,{value:w,onValueChange:u,children:[e.jsx(Oe,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(ce,{value:"standard",children:"Standard"}),e.jsx(ce,{value:"enterprise",children:"Enterprise"})]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(ye,{htmlFor:"custom-limit",children:"Custom Monthly Limit"}),e.jsx($e,{id:"custom-limit",type:"number",placeholder:"Leave empty for default",value:_,onChange:i=>b(i.target.value===""?"":Number(i.target.value))}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Leave empty to use default plan limit"})]})]}),e.jsxs(js,{children:[e.jsx(le,{variant:"outline",onClick:()=>S(null),children:"Cancel"}),e.jsx(le,{onClick:M,children:"Update Plan"}),e.jsx(le,{onClick:O,children:"Update Limits"})]})]})})]})}export{pn as default};
//# sourceMappingURL=AdminDashboard-aMK_9UL4.js.map

import{j as e}from"./ui-BXnIjFSd.js";import{c as b,u as v,S as m,B as n,M as w,a as x,H as p,U as k,C as y,A,D as L,b as D,d as C,e as M,f as S,g as O,h,i as u,j as U,L as E}from"./index-CjXWgMvA.js";import{d as z,r as I,L as t,O as B}from"./router-DzNuREeG.js";import"./vendor-gH-7aFTg.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],V=b("webhook",P),_=[{title:"Overview",href:"/admin",icon:p},{title:"User Management",href:"/admin/users",icon:k},{title:"System Stats",href:"/admin/stats",icon:y},{title:"Jobs Monitor",href:"/admin/jobs",icon:A},{title:"Webhooks",href:"/admin/webhooks",icon:V}];function W(){const{user:s,logout:j}=v(),c=z(),[l,r]=I.useState(!1);console.log("AdminLayout rendering, user:",s),console.log("User plan:",s?.plan);const f=async()=>{await j()};console.log("AdminLayout: User plan check:",s?.plan),console.log("AdminLayout: NODE_ENV:","production"),console.log("AdminLayout: import.meta.env.DEV:",!1);const o=!1,i=s?.plan==="enterprise"||s?.plan==="standard",d=i||o;return console.log("AdminLayout: Permission check:",{isDevelopment:o,hasValidPlan:i,isAdmin:d}),d?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"lg:hidden",children:e.jsx(n,{variant:"ghost",className:"fixed top-4 left-4 z-modal",onClick:()=>r(!l),children:e.jsx(w,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"flex",children:[e.jsx("aside",{className:x("fixed inset-y-0 left-0 z-sidebar w-64 bg-card border-r transition-transform duration-slow ease-apple lg:translate-x-0",l?"translate-x-0":"-translate-x-full"),children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsx("div",{className:"flex h-16 items-center border-b px-6",children:e.jsx(t,{to:"/",className:"flex items-center space-x-2",children:e.jsx("img",{src:"/logo-with-name.png",alt:"TidyFrame Admin",className:"h-20"})})}),e.jsx("nav",{className:"flex-1 space-y-2 px-4 py-6",children:_.map(a=>{const g=a.icon,N=c.pathname===a.href||a.href==="/admin"&&c.pathname==="/admin/dashboard";return e.jsxs(t,{to:a.href,className:x("flex items-center space-x-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",N?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),onClick:()=>r(!1),children:[e.jsx(g,{className:"h-4 w-4"}),e.jsx("span",{children:a.title})]},a.href)})}),e.jsx("div",{className:"px-4 pb-4",children:e.jsx(t,{to:"/dashboard",children:e.jsxs(n,{variant:"outline",className:"w-full",children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})})}),e.jsx("div",{className:"border-t p-4",children:e.jsxs(L,{children:[e.jsx(D,{asChild:!0,children:e.jsxs(n,{variant:"ghost",className:"w-full justify-start space-x-2",children:[e.jsx(C,{className:"h-8 w-8",children:e.jsx(M,{children:s?.fullName?.charAt(0)||s?.email.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"text-sm font-medium",children:s?.fullName||s?.email}),e.jsx("span",{className:"text-caption text-muted-foreground",children:"Administrator"})]})]})}),e.jsxs(S,{align:"end",className:"w-56",children:[e.jsx(O,{children:"Admin Account"}),e.jsx(h,{}),e.jsxs(u,{children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Settings"})]}),e.jsx(h,{}),e.jsxs(u,{onClick:f,className:"cursor-pointer",children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Log out"})]})]})]})})]})}),e.jsxs("main",{className:"flex-1 lg:ml-64",children:[e.jsx("header",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[e.jsx("div",{className:"lg:hidden"})," ",e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[e.jsx(m,{className:"h-4 w-4"}),e.jsx("span",{children:"Admin Panel"})]})})]})}),e.jsx("div",{className:"p-6",children:e.jsx(B,{})})]})]}),l&&e.jsx("div",{className:"fixed inset-0 z-overlay bg-black/50 lg:hidden",onClick:()=>r(!1)})]}):e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(m,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"You need admin privileges to access this area."}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current plan: ",s?.plan||"unknown"]}),e.jsx(t,{to:"/dashboard",children:e.jsx(n,{children:"Go to Dashboard"})})]})]})})}export{W as default};
//# sourceMappingURL=AdminLayout-DrVvMaW0.js.map
